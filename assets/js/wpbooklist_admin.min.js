function wpbooklist_add_book_validator(){"use strict";jQuery(document).ready(function(o){var e=o("input[name='book-isbn']"),t=o("label[for='isbn']"),i=o("#use-amazon-question-label"),n=o("#wpbooklist-addbook-label-booktitle"),a=o("#auth-amazon-question-label"),s=o("input[name='authorize-amazon-yes']"),l=(a=o("#auth-amazon-question-label"),o("input[name='authorize-amazon-no']")),r=o("input[name='use-amazon-yes']"),c=o("input[name='use-amazon-no']"),p=(o("input[name='book-title']"),n=o("#wpbooklist-addbook-label-booktitle"),!1);t.css({color:"black","font-weight":"normal"}),i.css({"font-weight":"normal",color:"black"}),n.css({color:"black","font-weight":"normal"}),a.css({color:"black","font-weight":"normal"});var d=0,b=e.val();b=(b=b.replace("-","")).replace(" ","");/^\d+$/.test(b);""==b&&!0===r.prop("checked")?(t.css({"font-weight":"bold",color:"red"}),d=t.offset().top-50):e.val(b),!1===s.prop("checked")&&!1===l.prop("checked")&&(a.css({"font-weight":"bold",color:"red"}),d>a.offset().top-50&&(d=a.offset().top-50),0==d&&(d=a.offset().top-50),p=!0),!1!==r.prop("checked")||!1!==c.prop("checked")||!0!==s.prop("checked")&&!0!==l.prop("checked")||(i.css({"font-weight":"bold",color:"red"}),d>i.offset().top-50&&(d=i.offset().top-50),0==d&&(d=i.offset().top-50),p=!0),!0!==r.prop("checked")||""!=e.val()&&null!=e.val()&&null!=e.val()||(e.val("ISBN Required!"),t.css({color:"red","font-weight":"bold"}),d>t.offset().top-50&&(d=t.offset().top-50),0==d&&(d=t.offset().top-50),p=!0),0!=d&&(o("html, body").animate({scrollTop:d},500),d=0),o("#wpbooklist-add-book-error-check").attr("data-add-book-form-error",p)})}jQuery(function(t){"use strict";var e=t("input[name='authorize-amazon-yes']"),i=t("input[name='authorize-amazon-no']"),o=t("input[name='book-title']"),n=(t("input[name='book-finished-yes']"),t("input[name='book-finished-no']"),t("input[name='book-signed-yes']"),t("input[name='book-signed-no']"),t("input[name='book-firstedition-yes']"),t("input[name='book-firstedition-no']"),t("input[name='use-amazon-yes']")),a=t("input[name='use-amazon-no']"),s=(t("input[name='book-isbn']"),t("#auth-amazon-question-label")),l=(t("label[for='use-amazon-yes']"),t("label[for='use-amazon-no']"),t("#use-amazon-question-label"),t("#wpbooklist-addbook-label-booktitle")),r=t("label[for='isbn']");t("#book-date-finished-label"),t("#wpbooklist-addbook-date-finished"),t("input[name='book-pubdate']"),t("#wpbooklist-addbook-page-yes"),t("#wpbooklist-addbook-page-no"),t("#wpbooklist-addbook-post-yes"),t("#wpbooklist-addbook-post-no");!0===e.prop("checked")&&(e.css({opacity:"0.5","pointer-events":"none"}),i.css({opacity:"0.5","pointer-events":"none"}),t("label[for='authorize-amazon-no']").css({opacity:"0.5","pointer-events":"none"}),t("label[for='authorize-amazon-yes']").css({opacity:"0.5","pointer-events":"none"}),t("#wpbooklist-authorize-amazon-container p").css({opacity:"0.5"})),o.click(function(){l.css({color:"black","font-weight":"normal"}),"Title Required!"==o.val()&&o.val("")}),e.click(function(o){s.css({color:"black","font-weight":"normal"}),!0===t(this).prop("checked")&&i.prop("checked",!1)}),i.click(function(o){s.css({color:"black","font-weight":"normal"}),!0===t(this).prop("checked")&&(n.prop("checked",!1),a.prop("checked",!0),r.css({color:"black","font-weight":"normal"}),e.prop("checked",!1))}),t(document).on("click","#wpbooklist-addbook-post-yes, #wpbooklist-editbook-post-yes",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-post-no").prop("checked",!1),t("#wpbooklist-editbook-post-no").prop("checked",!1))}),t(document).on("click","#wpbooklist-addbook-post-no, #wpbooklist-editbook-post-no",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-post-yes").prop("checked",!1),t("#wpbooklist-editbook-post-yes").prop("checked",!1))}),t(document).on("click","#wpbooklist-addbook-page-yes, #wpbooklist-editbook-page-yes",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-page-no").prop("checked",!1),t("#wpbooklist-editbook-page-no").prop("checked",!1))}),t(document).on("click","#wpbooklist-addbook-page-no, #wpbooklist-editbook-page-no",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-page-yes").prop("checked",!1),t("#wpbooklist-editbook-page-yes").prop("checked",!1))}),t(document).on("click","#wpbooklist-addbook-finished-yes, #wpbooklist-editbook-finished-yes",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-finished-no").prop("checked",!1),t("#wpbooklist-editbook-finished-no").prop("checked",!1),t("#book-date-finished-label").animate({opacity:1},500),t("#wpbooklist-addbook-date-finished").animate({opacity:1},500),t("#wpbooklist-editbook-date-finished").animate({opacity:1},500))}),t(document).on("click","#wpbooklist-addbook-finished-no, #wpbooklist-editbook-finished-no",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-finished-yes").prop("checked",!1),t("#wpbooklist-editbook-finished-yes").prop("checked",!1),t("#book-date-finished-label").animate({opacity:0},500),t("#wpbooklist-addbook-date-finished").animate({opacity:0},500),t("#wpbooklist-editbook-date-finished").animate({opacity:0},500))}),t(document).on("click","#wpbooklist-addbook-signed-yes, #wpbooklist-editbook-signed-yes",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-signed-no").prop("checked",!1),t("#wpbooklist-editbook-signed-no").prop("checked",!1))}),t(document).on("click","#wpbooklist-addbook-signed-no, #wpbooklist-editbook-signed-no",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-signed-yes").prop("checked",!1),t("#wpbooklist-editbook-signed-yes").prop("checked",!1))}),t(document).on("click","#wpbooklist-addbook-bookswapper-yes, #wpbooklist-editbook-bookswapper-yes",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-bookswapper-no").prop("checked",!1),t("#wpbooklist-editbook-bookswapper-no").prop("checked",!1))}),t(document).on("click","#wpbooklist-addbook-bookswapper-no, #wpbooklist-editbook-bookswapper-no",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-bookswapper-yes").prop("checked",!1),t("#wpbooklist-editbook-bookswapper-yes").prop("checked",!1))}),t(document).on("click","#wpbooklist-editbook-firstedition-yes, #wpbooklist-addbook-firstedition-yes",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-firstedition-no").prop("checked",!1),t("#wpbooklist-editbook-firstedition-no").prop("checked",!1))}),t(document).on("click","#wpbooklist-editbook-firstedition-no, #wpbooklist-addbook-firstedition-no",function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-firstedition-yes").prop("checked",!1),t("#wpbooklist-editbook-firstedition-yes").prop("checked",!1))}),t(document).on("click",'input[name="use-amazon-yes"]',function(o){!0===t(this).prop("checked")&&(t("#wpbooklist-addbook-label-booktitle").css({"font-weight":"normal",color:"black"}),t("#wpbooklist-editbook-label-booktitle").css({"font-weight":"normal",color:"black"}),"Title Required!"==t("#wpbooklist-editbook-label-booktitle").val()&&t("#wpbooklist-editbook-label-booktitle").val(""),"Title Required!"==t("#wpbooklist-addbook-label-booktitle").val()&&t("#wpbooklist-addbook-label-booktitle").val(""),t("#use-amazon-question-label").css({"font-weight":"normal",color:"black"}),t("input[name='use-amazon-no']").prop("checked",!1))}),t(document).on("click",'input[name="use-amazon-no"]',function(o){!0===t(this).prop("checked")&&(t("label[for='isbn']").css({"font-weight":"normal",color:"black"}),"ISBN Required!"==t("label[for='isbn']").val()&&t("label[for='isbn']").val(""),t("#use-amazon-question-label").css({"font-weight":"normal",color:"black"}),t("input[name='use-amazon-yes']").prop("checked",!1))}),t(document).on("click","#wpbooklist-editbook-isbn, #wpbooklist-addbook-isbn",function(o){"ISBN Required!"==t("#wpbooklist-editbook-isbn").val()&&t("#wpbooklist-editbook-isbn").val(""),"ISBN Required!"==t("#wpbooklist-addbook-isbn").val()&&t("#wpbooklist-addbook-isbn").val(""),t("label[for='isbn']").css({color:"black","font-weight":"normal"})}),t(document).on("click",'input[name="authorize-amazon-no"]',function(o){!0===t(this).prop("checked")&&(t('input[name="authorize-amazon-yes"]').prop("checked",!1),t("#use-amazon-question-label").css({"font-weight":"normal",color:"black"}),t("input[name='use-amazon-no']").css({opacity:"0.5","pointer-events":"none"}),t("input[name='use-amazon-yes']").css({opacity:"0.5","pointer-events":"none"}),t("label[for='use-amazon-yes']").css({opacity:"0.5","pointer-events":"none"}),t("label[for='use-amazon-no']").css({opacity:"0.5","pointer-events":"none"}),t("#use-amazon-question-label").css({opacity:"0.5","pointer-events":"none"}))}),t(document).on("click",'input[name="authorize-amazon-yes"]',function(o){!0===t(this).prop("checked")&&(t('input[name="authorize-amazon-no"]').prop("checked",!1),t("input[name='use-amazon-no']").css({opacity:"1","pointer-events":"all"}),t("input[name='use-amazon-yes']").css({opacity:"1","pointer-events":"all"}),t("label[for='use-amazon-yes']").css({opacity:"1","pointer-events":"all"}),t("label[for='use-amazon-no']").css({opacity:"1","pointer-events":"all"}),t("#use-amazon-question-label").css({opacity:"1","pointer-events":"all"}))}),t(document).on("click","#wpbooklist-woocommerce-yes",function(o){!0===t(this).prop("checked")&&t("#wpbooklist-woocommerce-no").prop("checked",!1)}),t(document).on("click","#wpbooklist-woocommerce-no",function(o){!0===t(this).prop("checked")&&t("#wpbooklist-woocommerce-yes").prop("checked",!1)}),t(document).on("click","#wpbooklist-woocommerce-vert-yes",function(o){!0===t(this).prop("checked")&&t("#wpbooklist-woocommerce-vert-no").prop("checked",!1)}),t(document).on("click","#wpbooklist-woocommerce-vert-no",function(o){!0===t(this).prop("checked")&&t("#wpbooklist-woocommerce-vert-yes").prop("checked",!1)}),t(document).on("click","#wpbooklist-woocommerce-download-yes",function(o){!0===t(this).prop("checked")&&t("#wpbooklist-woocommerce-download-no").prop("checked",!1)}),t(document).on("click","#wpbooklist-woocommerce-download-no",function(o){!0===t(this).prop("checked")&&t("#wpbooklist-woocommerce-download-yes").prop("checked",!1)}),t(document).on("click","#wpbooklist-woocommerce-review-yes",function(o){!0===t(this).prop("checked")&&t("#wpbooklist-woocommerce-review-no").prop("checked",!1)}),t(document).on("click","#wpbooklist-woocommerce-review-no",function(o){!0===t(this).prop("checked")&&t("#wpbooklist-woocommerce-review-yes").prop("checked",!1)}),t(document).on("click","#wpbooklist-woocommerce-yes",function(o){if(!0===t(this).prop("checked")){t(".wpbooklist-woo-row").css({display:"table-row"}),t(".wpbooklist-woo-row").animate({opacity:"1"});var e=t("#wpbooklist-addbook-price").val();t("#wpbooklist-addbook-woo-regular-price").val(e)}else t(".wpbooklist-woo-row").animate({opacity:"0"}),t(".wpbooklist-woo-row").css({display:"none"}),t("#wpbooklist-addbook-woo-regular-price").val("")}),t(document).on("click","#wpbooklist-woocommerce-no",function(o){!0===t(this).prop("checked")&&(t(".wpbooklist-woo-row").animate({opacity:"0"}),t(".wpbooklist-woo-row").css({display:"none"}),t("#wpbooklist-addbook-woo-regular-price").val(""))}),t(document).on("click","#wpbooklist-woocommerce-download-yes, #wpbooklist-woocommerce-vert-yes",function(o){!0===t(this).prop("checked")?(t(".wpbooklist-woo-row-upload").animate({opacity:"1"}),t(".wpbooklist-woo-row-upload").css({display:"table-row"}),t("#wpbooklist-addbook-woo-width").prop("disabled",!0),t("#wpbooklist-addbook-woo-height").prop("disabled",!0),t("#wpbooklist-addbook-woo-weight").prop("disabled",!0),t("#wpbooklist-addbook-woo-length").prop("disabled",!0),t(".book-woocommerce-label-dim").css({opacity:"0.3"})):(t(".wpbooklist-woo-row-upload").animate({opacity:"0"}),t(".wpbooklist-woo-row-upload").css({display:"none"}),t("#wpbooklist-addbook-woo-width").prop("disabled",!1),t("#wpbooklist-addbook-woo-height").prop("disabled",!1),t("#wpbooklist-addbook-woo-weight").prop("disabled",!1),t("#wpbooklist-addbook-woo-length").prop("disabled",!1),t(".book-woocommerce-label-dim").css({opacity:"1"}))}),t(document).on("click","#wpbooklist-woocommerce-download-no, #wpbooklist-woocommerce-vert-no",function(o){!0===t(this).prop("checked")&&(t(".wpbooklist-woo-row-upload").animate({opacity:"0"}),t(".wpbooklist-woo-row-upload").css({display:"none"}),t("#wpbooklist-addbook-woo-width").prop("disabled",!1),t("#wpbooklist-addbook-woo-height").prop("disabled",!1),t("#wpbooklist-addbook-woo-weight").prop("disabled",!1),t("#wpbooklist-addbook-woo-length").prop("disabled",!1),t(".book-woocommerce-label-dim").css({opacity:"1"}))}),t("input[name='book-pubdate']").mask("9999")}),function(o){"function"==typeof define&&define.amd?define(["jquery"],o):o("object"==typeof exports?require("jquery"):jQuery)}(function(T){var i,o=navigator.userAgent,_=/iphone/i.test(o),n=/chrome/i.test(o),P=/android/i.test(o);T.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},T.fn.extend({caret:function(o,e){var t;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof o?(e="number"==typeof e?e:o,this.each(function(){this.setSelectionRange?this.setSelectionRange(o,e):this.createTextRange&&((t=this.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",o),t.select())})):(this[0].setSelectionRange?(o=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),o=0-t.duplicate().moveStart("character",-1e5),e=o+t.text.length),{begin:o,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,m){var t,g,f,v,y,x,z;if(!e&&0<this.length){var o=T(this[0]).data(T.mask.dataName);return o?o():void 0}return m=T.extend({autoclear:T.mask.autoclear,placeholder:T.mask.placeholder,completed:null},m),t=T.mask.definitions,g=[],f=x=e.length,v=null,T.each(e.split(""),function(o,e){"?"==e?(x--,f=o):t[e]?(g.push(new RegExp(t[e])),null===v&&(v=g.length-1),o<f&&(y=g.length-1)):g.push(null)}),this.trigger("unmask").each(function(){function s(){if(m.completed){for(var o=v;o<=y;o++)if(g[o]&&k[o]===l(o))return;m.completed.call(h)}}function l(o){return m.placeholder.charAt(o<m.placeholder.length?o:0)}function r(o){for(;++o<x&&!g[o];);return o}function c(o,e){var t,i;if(!(o<0)){for(t=o,i=r(e);t<x;t++)if(g[t]){if(!(i<x&&g[t].test(k[i])))break;k[t]=k[i],k[i]=l(i),i=r(i)}d(),h.caret(Math.max(v,o))}}function a(){b(),h.val()!=w&&h.change()}function p(o,e){var t;for(t=o;t<e&&t<x;t++)g[t]&&(k[t]=l(t))}function d(){h.val(k.join(""))}function b(o){var e,t,i,n=h.val(),a=-1;for(i=e=0;e<x;e++)if(g[e]){for(k[e]=l(e);i++<n.length;)if(t=n.charAt(i-1),g[e].test(t)){k[e]=t,a=e;break}if(i>n.length){p(e+1,x);break}}else k[e]===n.charAt(i)&&i++,e<f&&(a=e);return o?d():a+1<f?m.autoclear||k.join("")===u?(h.val()&&h.val(""),p(0,x)):d():(d(),h.val(h.val().substring(0,a+1))),f?e:v}var h=T(this),k=T.map(e.split(""),function(o,e){return"?"!=o?t[o]?l(e):o:void 0}),u=k.join(""),w=h.val();h.data(T.mask.dataName,function(){return T.map(k,function(o,e){return g[e]&&o!=l(e)?o:null}).join("")}),h.one("unmask",function(){h.off(".mask").removeData(T.mask.dataName)}).on("focus.mask",function(){var o;h.prop("readonly")||(clearTimeout(i),w=h.val(),o=b(),i=setTimeout(function(){h.get(0)===document.activeElement&&(d(),o==e.replace("?","").length?h.caret(0,o):h.caret(o))},10))}).on("blur.mask",a).on("keydown.mask",function(o){if(!h.prop("readonly")){var e,t,i,n=o.which||o.keyCode;z=h.val(),8===n||46===n||_&&127===n?(t=(e=h.caret()).begin,(i=e.end)-t==0&&(t=46!==n?function(o){for(;0<=--o&&!g[o];);return o}(t):i=r(t-1),i=46===n?r(i):i),p(t,i),c(t,i-1),o.preventDefault()):13===n?a.call(this,o):27===n&&(h.val(w),h.caret(0,b()),o.preventDefault())}}).on("keypress.mask",function(o){if(!h.prop("readonly")){var e,t,i,n=o.which||o.keyCode,a=h.caret();o.ctrlKey||o.altKey||o.metaKey||n<32||!n||13===n||(a.end-a.begin!=0&&(p(a.begin,a.end),c(a.begin,a.end-1)),(e=r(a.begin-1))<x&&(t=String.fromCharCode(n),g[e].test(t))&&(function(o){var e,t,i,n;for(t=l(e=o);e<x;e++)if(g[e]){if(i=r(e),n=k[e],k[e]=t,!(i<x&&g[i].test(n)))break;t=n}}(e),k[e]=t,d(),i=r(e),P?setTimeout(function(){T.proxy(T.fn.caret,h,i)()},0):h.caret(i),a.begin<=y&&s()),o.preventDefault())}}).on("input.mask paste.mask",function(){h.prop("readonly")||setTimeout(function(){var o=b(!0);h.caret(o),s()},0)}),n&&P&&h.off("input.mask").on("input.mask",function(){var o=h.val(),e=h.caret();if(z&&z.length&&z.length>o.length){for(b(!0);0<e.begin&&!g[e.begin-1];)e.begin--;if(0===e.begin)for(;e.begin<v&&!g[e.begin];)e.begin++;h.caret(e.begin,e.begin)}else{for(b(!0);e.begin<x&&!g[e.begin];)e.begin++;h.caret(e.begin,e.begin)}s()}),b()})}})}),function(p,r,c){var d,b,h,k,u,w,m,g,f,v,y,x,z,T,a,_,s,l,P,V,C,j,S,I,R,H,E,L,q,O,A,D,i,n={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return p(this).attr("href")},title:function(){return this.title},createImg:function(){var t=new Image,o=p(this).data("cbox-img-attrs");return"object"==typeof o&&p.each(o,function(o,e){t[o]=e}),t},createIframe:function(){var t=r.createElement("iframe"),o=p(this).data("cbox-iframe-attrs");return"object"==typeof o&&p.each(o,function(o,e){t[o]=e}),"frameBorder"in t&&(t.frameBorder=0),"allowTransparency"in t&&(t.allowTransparency="true"),t.name=(new Date).getTime(),t.allowFullscreen=!0,t}},W="colorbox",M="cbox",F=M+"Element",N=M+"_open",B=M+"_load",K=M+"_complete",G=M+"_cleanup",Q=M+"_closed",Y=M+"_purge",U=p("<a/>"),J="div",$=0,Z={};function X(o,e,t){var i=r.createElement(o);return e&&(i.id=M+e),t&&(i.style.cssText=t),p(i)}function oo(){return c.innerHeight?c.innerHeight:p(c).height()}function eo(o,t){t!==Object(t)&&(t={}),this.cache={},this.el=o,this.value=function(o){var e;return void 0===this.cache[o]&&(void 0!==(e=p(this.el).attr("data-cbox-"+o))?this.cache[o]=e:void 0!==t[o]?this.cache[o]=t[o]:void 0!==n[o]&&(this.cache[o]=n[o])),this.cache[o]},this.get=function(o){var e=this.value(o);return p.isFunction(e)?e.call(this.el,this):e}}function to(o){var e=f.length,t=(H+o)%e;return t<0?e+t:t}function io(o,e){return Math.round((/%/.test(o)?("x"===e?v.width():oo())/100:1)*parseInt(o,10))}function no(o,e){return o.get("photo")||o.get("photoRegex").test(e)}function ao(o,e){return o.get("retinaUrl")&&1<c.devicePixelRatio?e.replace(o.get("photoRegex"),o.get("retinaSuffix")):e}function so(o){"contains"in b[0]&&!b[0].contains(o.target)&&o.target!==d[0]&&(o.stopPropagation(),b.focus())}function lo(o){lo.str!==o&&(b.add(d).removeClass(lo.str).addClass(o),lo.str=o)}function ro(o){p(r).trigger(o),U.triggerHandler(o)}var co=function(){var o,e,t=M+"Slideshow_",i="click."+M;function n(){clearTimeout(e)}function a(){(C.get("loop")||f[H+1])&&(n(),e=setTimeout(D.next,C.get("slideshowSpeed")))}function s(){_.html(C.get("slideshowStop")).unbind(i).one(i,l),U.bind(K,a).bind(B,n),b.removeClass(t+"off").addClass(t+"on")}function l(){n(),U.unbind(K,a).unbind(B,n),_.html(C.get("slideshowStart")).unbind(i).one(i,function(){D.next(),s()}),b.removeClass(t+"on").addClass(t+"off")}function r(){o=!1,_.hide(),n(),U.unbind(K,a).unbind(B,n),b.removeClass(t+"off "+t+"on")}return function(){o?C.get("slideshow")||(U.unbind(G,r),r()):C.get("slideshow")&&f[1]&&(o=!0,U.one(G,r),C.get("slideshowAuto")?s():l(),_.show())}}();function po(o){var e,t;if(!O){if(e=p(o).data(W),C=new eo(o,e),t=C.get("rel"),H=0,t&&!1!==t&&"nofollow"!==t?(f=p("."+F).filter(function(){return new eo(this,p.data(this,W)).get("rel")===t}),-1===(H=f.index(C.el))&&(f=f.add(C.el),H=f.length-1)):f=p(C.el),!L){L=q=!0,lo(C.get("className")),b.css({visibility:"hidden",display:"block",opacity:""}),y=X(J,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),k.css({width:"",height:""}).append(y),j=u.height()+g.height()+k.outerHeight(!0)-k.height(),S=w.width()+m.width()+k.outerWidth(!0)-k.width(),I=y.outerHeight(!0),R=y.outerWidth(!0);var i=io(C.get("initialWidth"),"x"),n=io(C.get("initialHeight"),"y"),a=C.get("maxWidth"),s=C.get("maxHeight");C.w=Math.max((!1!==a?Math.min(i,io(a,"x")):i)-R-S,0),C.h=Math.max((!1!==s?Math.min(n,io(s,"y")):n)-I-j,0),y.css({width:"",height:C.h}),D.position(),ro(N),C.get("onOpen"),V.add(T).hide(),b.focus(),C.get("trapFocus")&&r.addEventListener&&(r.addEventListener("focus",so,!0),U.one(Q,function(){r.removeEventListener("focus",so,!0)})),C.get("returnFocus")&&U.one(Q,function(){p(C.el).focus()})}var l=parseFloat(C.get("opacity"));d.css({opacity:l==l?l:"",cursor:C.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),C.get("closeButton")?P.html(C.get("close")).appendTo(k):P.appendTo("<div/>"),function(){var o,e,t,i=D.prep,n=++$;if(E=!(q=!0),ro(Y),ro(B),C.get("onLoad"),C.h=C.get("height")?io(C.get("height"),"y")-I-j:C.get("innerHeight")&&io(C.get("innerHeight"),"y"),C.w=C.get("width")?io(C.get("width"),"x")-R-S:C.get("innerWidth")&&io(C.get("innerWidth"),"x"),C.mw=C.w,C.mh=C.h,C.get("maxWidth")&&(C.mw=io(C.get("maxWidth"),"x")-R-S,C.mw=C.w&&C.w<C.mw?C.w:C.mw),C.get("maxHeight")&&(C.mh=io(C.get("maxHeight"),"y")-I-j,C.mh=C.h&&C.h<C.mh?C.h:C.mh),o=C.get("href"),A=setTimeout(function(){z.show()},100),C.get("inline")){var a=p(o).eq(0);t=p("<div>").hide().insertBefore(a),U.one(Y,function(){t.replaceWith(a)}),i(a)}else C.get("iframe")?i(" "):C.get("html")?i(C.get("html")):no(C,o)?(o=ao(C,o),E=C.get("createImg"),p(E).addClass(M+"Photo").bind("error."+M,function(){i(X(J,"Error").html(C.get("imgError")))}).one("load",function(){n===$&&setTimeout(function(){var o;C.get("retinaImage")&&1<c.devicePixelRatio&&(E.height=E.height/c.devicePixelRatio,E.width=E.width/c.devicePixelRatio),C.get("scalePhotos")&&(e=function(){E.height-=E.height*o,E.width-=E.width*o},C.mw&&E.width>C.mw&&(o=(E.width-C.mw)/E.width,e()),C.mh&&E.height>C.mh&&(o=(E.height-C.mh)/E.height,e())),C.h&&(E.style.marginTop=Math.max(C.mh-E.height,0)/2+"px"),f[1]&&(C.get("loop")||f[H+1])&&(E.style.cursor="pointer",p(E).bind("click."+M,function(){D.next()})),E.style.width=E.width+"px",E.style.height=E.height+"px",i(E)},1)}),E.src=o):o&&x.load(o,C.get("data"),function(o,e){n===$&&i("error"===e?X(J,"Error").html(C.get("xhrError")):p(this).contents())})}()}}function bo(){b||(i=!1,v=p(c),b=X(J).attr({id:W,class:!1===p.support.opacity?M+"IE":"",role:"dialog",tabindex:"-1"}).hide(),d=X(J,"Overlay").hide(),z=p([X(J,"LoadingOverlay")[0],X(J,"LoadingGraphic")[0]]),h=X(J,"Wrapper"),k=X(J,"Content").append(T=X(J,"Title"),a=X(J,"Current"),l=p('<button type="button"/>').attr({id:M+"Previous"}),s=p('<button type="button"/>').attr({id:M+"Next"}),_=p('<button type="button"/>').attr({id:M+"Slideshow"}),z),P=p('<button type="button"/>').attr({id:M+"Close"}),h.append(X(J).append(X(J,"TopLeft"),u=X(J,"TopCenter"),X(J,"TopRight")),X(J,!1,"clear:left").append(w=X(J,"MiddleLeft"),k,m=X(J,"MiddleRight")),X(J,!1,"clear:left").append(X(J,"BottomLeft"),g=X(J,"BottomCenter"),X(J,"BottomRight"))).find("div div").css({float:"left"}),x=X(J,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),V=s.add(l).add(a).add(_)),r.body&&!b.parent().length&&p(r.body).append(d,b.append(h,x))}p[W]||(p(bo),(D=p.fn[W]=p[W]=function(e,o){var t=this;return e=e||{},p.isFunction(t)&&(t=p("<a/>"),e.open=!0),t[0]&&(bo(),function(){function o(o){1<o.which||o.shiftKey||o.altKey||o.metaKey||o.ctrlKey||(o.preventDefault(),po(this))}return!!b&&(i||(i=!0,s.click(function(){D.next()}),l.click(function(){D.prev()}),P.click(function(){D.close()}),d.click(function(){C.get("overlayClose")&&D.close()}),p(r).bind("keydown."+M,function(o){var e=o.keyCode;L&&C.get("escKey")&&27===e&&(o.preventDefault(),D.close()),L&&C.get("arrowKey")&&f[1]&&!o.altKey&&(37===e?(o.preventDefault(),l.click()):39===e&&(o.preventDefault(),s.click()))}),p.isFunction(p.fn.on)?p(r).on("click."+M,"."+F,o):p("."+F).live("click."+M,o)),!0)}()&&(o&&(e.onComplete=o),t.each(function(){var o=p.data(this,W)||{};p.data(this,W,p.extend(o,e))}).addClass(F),new eo(t[0],e).get("open")&&po(t[0]))),t}).position=function(e,o){var t,i,n,a=0,s=0,l=b.offset();function r(){u[0].style.width=g[0].style.width=k[0].style.width=parseInt(b[0].style.width,10)-S+"px",k[0].style.height=w[0].style.height=m[0].style.height=parseInt(b[0].style.height,10)-j+"px"}if(v.unbind("resize."+M),b.css({top:-9e4,left:-9e4}),i=v.scrollTop(),n=v.scrollLeft(),C.get("fixed")?(l.top-=i,l.left-=n,b.css({position:"fixed"})):(a=i,s=n,b.css({position:"absolute"})),!1!==C.get("right")?s+=Math.max(v.width()-C.w-R-S-io(C.get("right"),"x"),0):!1!==C.get("left")?s+=io(C.get("left"),"x"):s+=Math.round(Math.max(v.width()-C.w-R-S,0)/2),!1!==C.get("bottom")?a+=Math.max(oo()-C.h-I-j-io(C.get("bottom"),"y"),0):!1!==C.get("top")?a+=io(C.get("top"),"y"):a+=Math.round(Math.max(oo()-C.h-I-j,0)/2),b.css({top:l.top,left:l.left,visibility:"visible"}),h[0].style.width=h[0].style.height="9999px",t={width:C.w+R+S,height:C.h+I+j,top:a,left:s},e){var c=0;p.each(t,function(o){t[o]===Z[o]||(c=e)}),e=c}Z=t,e||b.css(t),b.dequeue().animate(t,{duration:e||0,complete:function(){r(),q=!1,h[0].style.width=C.w+R+S+"px",h[0].style.height=C.h+I+j+"px",C.get("reposition")&&setTimeout(function(){v.bind("resize."+M,D.position)},1),p.isFunction(o)&&o()},step:r})},D.resize=function(o){var e;L&&((o=o||{}).width&&(C.w=io(o.width,"x")-R-S),o.innerWidth&&(C.w=io(o.innerWidth,"x")),y.css({width:C.w}),o.height&&(C.h=io(o.height,"y")-I-j),o.innerHeight&&(C.h=io(o.innerHeight,"y")),o.innerHeight||o.height||(e=y.scrollTop(),y.css({height:"auto"}),C.h=y.height()),y.css({height:C.h}),e&&y.scrollTop(e),D.position("none"===C.get("transition")?0:C.get("speed")))},D.prep=function(o){if(L){var e,n="none"===C.get("transition")?0:C.get("speed");y.remove(),(y=X(J,"LoadedContent").append(o)).hide().appendTo(x.show()).css({width:(C.w=C.w||y.width(),C.w=C.mw&&C.mw<C.w?C.mw:C.w,C.w),overflow:C.get("scrolling")?"auto":"hidden"}).css({height:(C.h=C.h||y.height(),C.h=C.mh&&C.mh<C.h?C.mh:C.h,C.h)}).prependTo(k),x.hide(),p(E).css({float:"none"}),lo(C.get("className")),e=function(){var o,e,t=f.length;function i(){!1===p.support.opacity&&b[0].style.removeAttribute("filter")}L&&(e=function(){clearTimeout(A),z.hide(),ro(K),C.get("onComplete")},T.html(C.get("title")).show(),y.show(),1<t?("string"==typeof C.get("current")&&a.html(C.get("current").replace("{current}",H+1).replace("{total}",t)).show(),s[C.get("loop")||H<t-1?"show":"hide"]().html(C.get("next")),l[C.get("loop")||H?"show":"hide"]().html(C.get("previous")),co(),C.get("preloading")&&p.each([to(-1),to(1)],function(){var o=f[this],e=new eo(o,p.data(o,W)),t=e.get("href");t&&no(e,t)&&(t=ao(e,t),r.createElement("img").src=t)})):V.hide(),C.get("iframe")?(o=C.get("createIframe"),C.get("scrolling")||(o.scrolling="no"),p(o).attr({src:C.get("href"),class:M+"Iframe"}).one("load",e).appendTo(y),U.one(Y,function(){o.src="//about:blank"}),C.get("fastIframe")&&p(o).trigger("load")):e(),"fade"===C.get("transition")?b.fadeTo(n,1,i):i())},"fade"===C.get("transition")?b.fadeTo(n,0,function(){D.position(0,e)}):D.position(n,e)}},D.next=function(){!q&&f[1]&&(C.get("loop")||f[H+1])&&(H=to(1),po(f[H]))},D.prev=function(){!q&&f[1]&&(C.get("loop")||H)&&(H=to(-1),po(f[H]))},D.close=function(){L&&!O&&(L=!(O=!0),ro(G),C.get("onCleanup"),v.unbind("."+M),d.fadeTo(C.get("fadeOut")||0,0),b.stop().fadeTo(C.get("fadeOut")||0,0,function(){b.hide(),d.hide(),ro(Y),y.remove(),setTimeout(function(){O=!1,ro(Q),C.get("onClosed")},1)}))},D.remove=function(){b&&(b.stop(),p[W].close(),b.stop(!1,!0).remove(),d.remove(),O=!1,b=null,p("."+F).removeData(W).removeClass(F),p(r).unbind("click."+M).unbind("keydown."+M))},D.element=function(){return p(C.el)},D.settings=n)}(jQuery,document,window),console.log("This is the JavaScript Object that holds all PHP Variables for use in JavaScript"),console.log(wpbooklistPhpVariables),jQuery(document).ready(function(X){"use strict";window.location.href.includes("library=")&&window.location.href.includes("tab=edit-books")&&window.location.href.includes("WPBookList")&&(X("#wpbooklist-editbook-select-library").val(window.location.href.substr(window.location.href.lastIndexOf("=")+1)),X("#wpbooklist-editbook-select-library").trigger("change")),window.location.href.includes("&tab=")?X(".nav-tab").each(function(){window.location.href==wpbooklistPhpVariables.FOR_TAB_HIGHLIGHT+X(this).attr("href")&&X(this).first().css({"background-color":"#F05A1A",color:"white"})}):X(".nav-tab").first().css({"background-color":"#F05A1A",color:"white"}),X(".wpbooklist-localization-checkbox").change(function(){X("[name=us-based-book-info]").attr("checked",!1),X("[name=uk-based-book-info]").attr("checked",!1),X("[name=au-based-book-info]").attr("checked",!1),X("[name=br-based-book-info]").attr("checked",!1),X("[name=ca-based-book-info]").attr("checked",!1),X("[name=cn-based-book-info]").attr("checked",!1),X("[name=fr-based-book-info]").attr("checked",!1),X("[name=de-based-book-info]").attr("checked",!1),X("[name=in-based-book-info]").attr("checked",!1),X("[name=it-based-book-info]").attr("checked",!1),X("[name=jp-based-book-info]").attr("checked",!1),X("[name=mx-based-book-info]").attr("checked",!1),X("[name=es-based-book-info]").attr("checked",!1),X("[name=nl-based-book-info]").attr("checked",!1),X("[name=sg-based-book-info]").attr("checked",!1),X(this).attr("checked",!0)}),function(){var t;if(void 0!==wp&&void 0!==wp.media){var i=wp.media.model.settings.post.id,n=wpbooklistPhpVariables.SAVED_ATTACHEMENT_ID;jQuery("#wpbooklist-addbook-upload_image_button, #wpbooklist-storefront-img-button-1, #wpbooklist-storefront-img-button-2, #wpbooklist-branding-img-button-1, #wpbooklist-branding-img-button-2").on("click",function(o){var e=X(this).attr("id");if(X(this).attr("data-active",!0),console.log(e),o.preventDefault(),t)return t.uploader.uploader.param("post_id",n),void t.open();wp.media.model.settings.post.id=n,t=wp.media.frames.fileFrame=wp.media({title:"Select a image to upload",button:{text:"Use this image"},multiple:!1}),console.log(e),t.on("select",function(){var o=t.state().get("selection").first().toJSON();"true"==X("#wpbooklist-addbook-upload_image_button").attr("data-active")&&(X("#wpbooklist-addbook-image").val(o.url),X("#wpbooklist-addbook-preview-img").attr("src",o.url),X("#wpbooklist-addbook-preview-img").attr("data-active",!1)),"true"==X("#wpbooklist-branding-img-button-1").attr("data-active")&&(X("#wpbooklist-branding-image-url-1").val(o.url),X("#wpbooklist-branding-preview-img-1").attr("src",o.url),X("#wpbooklist-branding-img-button-1").attr("data-active",!1)),"true"==X("#wpbooklist-branding-img-button-2").attr("data-active")&&(X("#wpbooklist-branding-image-url-2").val(o.url),X("#wpbooklist-branding-preview-img-2").attr("src",o.url),X("#wpbooklist-branding-img-button-2").attr("data-active",!1)),"true"==X("#wpbooklist-storefront-img-button-1").attr("data-active")&&(X("#wpbooklist-branding-image-url-2").val(o.url),X("#wpbooklist-storefront-preview-img-1").attr("src",o.url),X("#wpbooklist-storefront-img-button-1").attr("data-active",!1)),"true"==X("#wpbooklist-storefront-img-button-2").attr("data-active")&&(X("#wpbooklist-storefront-preview-img-2").attr("src",o.url),X("#wpbooklist-storefront-img-button-2").attr("data-active",!1)),wp.media.model.settings.post.id=i}),t.open()}),jQuery("a.add_media").on("click",function(){wp.media.model.settings.post.id=i})}}(),X("#wpbooklist-admin-addbook-button").click(function(o){var c=X("#wpbooklist-addbook-success-div");c.html(""),X("#wpbooklist-addbook-signed-first-table").animate({"margin-bottom":"40px"},500),X("#wpbooklist-success-view-post").animate({opacity:"0"},500),o.preventDefault(o),wpbooklist_add_book_validator();var e=X("#wpbooklist-add-book-error-check").attr("data-add-book-form-error"),t=!1,i="",n=X("input[name='authorize-amazon-yes']").prop("checked"),p=X("#wpbooklist-addbook-select-library").val(),d=X("input[name='use-amazon-yes']").prop("checked"),a=X("input[name='book-isbn']").val(),s=X("input[name='book-title']").val(),l=X("input[name='book-author']").val(),r=X("input[name='book-sale-author-link']").val(),b=X("input[name='book-category']").val(),h=X("input[name='book-price']").val(),k=X("input[name='book-pages']").val(),u=X("input[name='book-pubdate']").val(),w=X("input[name='book-publisher']").val(),m=X("textarea[name='book-description']").val(),g=X("input[name='book-subject']").val(),f=X("input[name='book-country']").val(),v=X("textarea[name='book-notes']").val(),y=X("#wpbooklist-addbook-rating").val(),x=X("input[name='book-image']").val(),z=X("input[name='book-finished-yes']").prop("checked"),T=X("input[name='book-date-finished-text']").val(),_=X("input[name='book-signed-yes']").prop("checked"),P=X("input[name='book-firstedition-yes']").prop("checked"),V=X("input[name='book-indiv-page-yes']").prop("checked"),C=X("input[name='book-indiv-post-yes']").prop("checked"),j=X("input[name='book-bookswapper-yes']").prop("checked"),S=X("input[name='book-lend-copies']").val(),t=X("input[name='book-woocommerce-yes']").prop("checked"),I=X("input[name='book-woo-sale-price']").val(),R=X("input[name='book-woo-regular-price']").val(),H=X("input[name='book-woo-stock']").val(),E=X("input[name='book-woo-length']").val(),L=X("input[name='book-woo-width']").val(),q=X("input[name='book-woo-height']").val(),O=X("input[name='book-woo-weight']").val(),A=X("#wpbooklist-addbook-woo-sku").val(),D=X("input[name='wpbooklist-woocommerce-vert-yes']").prop("checked"),W=X("input[name='wpbooklist-woocommerce-download-yes']").prop("checked"),i=X("#wpbooklist-storefront-preview-img-1").attr("data-id"),M=X("#wpbooklist-addbook-woo-salebegin").val(),F=X("#wpbooklist-addbook-woo-saleend").val(),N=X("#wpbooklist-addbook-woo-note").val(),B=X("#wpbooklist-woocommerce-category-select").val(),K=X("#wpbooklist-woocommerce-review-yes").prop("checked"),G=X("#select2-upsells").val(),Q=X("#select2-crosssells").val(),Y="",U="";if(null!=G)for(var J=0;J<G.length;J++)Y=Y+","+G[J];if(null!=Q)for(var J=0;J<Q.length;J++)U=U+","+Q[J];if(null!=M&&null!=F){if(M.indexOf("-")){var $=M.split("-");M=$[0]+"-"+$[1]+"-"+$[2]}if(F.indexOf("-")){var $=F.split("-");F=$[0]+"-"+$[1]+"-"+$[2]}}if(T.indexOf("-")){var $=T.split("-");T=$[1]+"-"+$[2]+"-"+$[0]}if("false"===e){X("#wpbooklist-spinner-1").animate({opacity:"1"},500);var Z={action:"wpbooklist_dashboard_add_book_action",security:wpbooklistPhpVariables.adminnonce2,amazonAuthYes:n,library:p,useAmazonYes:d,isbn:a,title:s,author:l,authorUrl:r,category:b,price:h,pages:k,pubYear:u,publisher:w,description:m,subject:g,country:f,notes:v,rating:y,image:x,finished:z,dateFinished:T,signed:_,firstEdition:P,pageYes:V,postYes:C,swapYes:j,copies:S,woocommerce:t,saleprice:I,regularprice:R,stock:H,length:E,width:L,height:q,weight:O,sku:A,virtual:D,download:W,woofile:i,salebegin:M,saleend:F,purchasenote:N,productcategory:B,reviews:K,upsells:Y,crosssells:U};console.log("Here's the data that is being sent to the server to add a book:"),console.log(Z),X.ajax({url:ajaxurl,type:"POST",data:Z,timeout:0,success:function(o){if(o=o.split("--sep--"),console.log(o),1==o[0]){var e=o[7],t=JSON.parse(o[8]),i=o[9];if(console.log(e),console.log("Here's the report for where the this book's data was obtained from:"),console.log(t),console.log("The Amazon Fail Count was: "+i),d)if(2==i||"2"==i)var n="<p><span id='wpbooklist-add-book-success-span'>"+wpbooklistPhpVariables.trans49+"</span><br/> "+wpbooklistPhpVariables.trans50+"<em> "+wpbooklistPhpVariables.trans51+" </em>"+wpbooklistPhpVariables.trans52;else var n="<p><span id='wpbooklist-add-book-success-span'>"+wpbooklistPhpVariables.trans38+"</span><br/> "+wpbooklistPhpVariables.trans39+" <span id='wpbooklist-addbook-success-shortcode'>";else var n="<p><span id='wpbooklist-add-book-success-span'>"+wpbooklistPhpVariables.trans38+"</span><br/> "+wpbooklistPhpVariables.trans39+" <span id='wpbooklist-addbook-success-shortcode'>";if(p.includes("wpbooklist_jre_saved_book_log"))var a="[wpbooklist_shortcode]";else var a='[wpbooklist_shortcode table="'+(p=(p=p.split("_"))[p.length-1])+'"]';if(d)if(2==i||"2"==i)var s='</span></p><a id="wpbooklist-success-1" class="wpbooklist-show-book-colorbox">'+wpbooklistPhpVariables.trans40+"</a>";else var s=a+'</span></p><a id="wpbooklist-success-1" class="wpbooklist-show-book-colorbox">'+wpbooklistPhpVariables.trans40+"</a>";else var s=a+'</span></p><a id="wpbooklist-success-1" class="wpbooklist-show-book-colorbox">'+wpbooklistPhpVariables.trans40+"</a>";var l="";if("true"==o[4]&&"false"==o[3]){var l="<p id='wpbooklist-addbook-success-post-p'><a href='"+o[6]+"'>"+wpbooklistPhpVariables.trans41+"</a></p></div>";X("#wpbooklist-addbook-signed-first-table").animate({"margin-bottom":"70px"},500),X("#wpbooklist-success-view-post").animate({opacity:"1"},500)}if("true"==o[3]&&"false"==o[4]){var l="<p id='wpbooklist-addbook-success-page-p'><a href='"+o[5]+"'>"+wpbooklistPhpVariables.trans42+"</a></p></div>";X("#wpbooklist-addbook-signed-first-table").animate({"margin-bottom":"70px"},500),X("#wpbooklist-success-view-page").animate({opacity:"1"},500)}if("true"==o[3]&&"true"==o[4]){var l="<p id='wpbooklist-addbook-success-page-p'><a href='"+o[5]+"'>"+wpbooklistPhpVariables.trans42+"</a></p><p id='wpbooklist-addbook-success-post-p'><a href='"+o[6]+"'>"+wpbooklistPhpVariables.trans41+"</a></p></div>";X("#wpbooklist-addbook-signed-first-table").animate({"margin-bottom":"100px"},500),X("#wpbooklist-success-view-page").animate({opacity:"1"},500),X("#wpbooklist-success-view-post").animate({opacity:"1"},500)}var r='<div id="wpbooklist-addbook-success-thanks">'+wpbooklistPhpVariables.trans43+'<a href="http://wpbooklist.com/index.php/extensions/">&nbsp;'+wpbooklistPhpVariables.trans44+"</a><br/><br/>"+wpbooklistPhpVariables.trans45+' <a id="wpbooklist-addbook-success-review-link" href="https://wordpress.org/support/plugin/wpbooklist/reviews/?filter=5" >'+wpbooklistPhpVariables.trans46+'</a><img id="wpbooklist-smile-icon-1" src="'+wpbooklistPhpVariables.ROOT_IMG_ICONS_URL+'smile.png"></div>';c.html(n+s+l+r),X("#wpbooklist-spinner-1").animate({opacity:"0"},500),X("#wpbooklist-success-1").animate({opacity:"1"},500),X("#wpbooklist-success-1").attr("data-bookid",o[1]),X("#wpbooklist-success-1").attr("data-booktable",o[2])}else X("#wpbooklist-addbook-signed-first-table").animate({"margin-bottom":"65px"},500),c.html(wpbooklistPhpVariables.trans47+' <a href="mailto:techsupport@wpbooklist.com">'+wpbooklistPhpVariables.trans48+"</a><br/><br/>"+o[1]),X("#wpbooklist-spinner-1").animate({opacity:"0"},500),X("#wpbooklist-success-1").animate({opacity:"1"},500)},error:function(o,e,t){X("#wpbooklist-success-1").html(wpbooklistPhpVariables.trans47),X("#wpbooklist-spinner-1").animate({opacity:"0"},500),X("#wpbooklist-success-1").animate({opacity:"1"},500),console.log(t),console.log(e),console.log(o)}})}o.preventDefault?o.preventDefault():o.returnValue=!1}),X(document).on("click",".wpbooklist-show-book-colorbox",function(o){o.preventDefault?o.preventDefault():o.returnValue=!1;var e=X(this).attr("data-bookid"),t=X(this).attr("data-booktable"),i=X("#wpbooklist-branding-text-1").attr("data-value");null==i&&(i="");var n=X("#wpbooklist-branding-text-2").attr("data-value");null==n&&(n="");var a=X("#wpbooklist-branding-logo-1").attr("data-value");null==a&&(a="");var s=X("#wpbooklist-branding-logo-2").attr("data-value");null==s&&(s="");var l="",r=window.location.href;-1<r.indexOf("sortby=alphabeticallybyauthorlast")&&(l="true");var c={action:"wpbooklist_show_book_in_colorbox_action",security:wpbooklistPhpVariables.adminnonce3,bookId:e,bookTable:t,sortParam:l};console.log(c),X.colorbox({iframe:!0,title:wpbooklistPhpVariables.trans55,width:"50%",height:"80%",html:"&nbsp;",fastIframe:!1,onComplete:function(){""!=a&&(X("#wpbooklist-branding-img-1-id").remove(),X("#cboxLoadingGraphic").css({background:"none"}),X("#cboxLoadingGraphic").append('<img style="margin-left: auto;margin-right: auto;display: block;width: 20%;margin-top: 15%;" id="wpbooklist-branding-img-1-id" src="'+a+'" />')),""!=i&&(X("#wpbooklist-branding-text-1-id").remove(),X("#cboxLoadingGraphic").css({background:"none"}),X("#cboxLoadingGraphic").append('<p style="text-align: center;font-style: italic;font-size: 17px;font-weight: bold;" id="wpbooklist-branding-text-1-id">'+i+"</p>")),X("#cboxLoadingGraphic").show(),X("#cboxLoadingGraphic").css({display:"block"})}}),X.ajax({url:ajaxurl,type:"POST",data:c,timeout:0,success:function(e){e=e.split("---sep---"),console.log(e[1]),X.colorbox({open:!0,preloading:!0,scrolling:!0,width:"70%",height:"70%",html:e[0],onClosed:function(){},onComplete:function(){if(""!=s&&""==n&&(X("#cboxTitle").css({border:"solid 1px #e1e1e1",height:"100px","background-color":"white",bottom:"-95px"}),X("#cboxWrapper").css({overflow:"visible"}),X("#colorbox").css({height:X("#colorbox").height()+100+"px"}),X("#cboxTitle").append('<img id="wpbooklist-branding-logo-2-id" style="width:50px; margin-top:20px;" src="'+s+'" />')),""!=n&&""==s&&(X("#cboxTitle").css({border:"solid 1px #e1e1e1",height:"100px","background-color":"white",bottom:"-95px"}),X("#cboxWrapper").css({overflow:"visible"}),X("#colorbox").css({height:X("#colorbox").height()+100+"px"}),X("#cboxTitle").append('<p style="text-align: center;font-style: italic;font-size: 17px;font-weight: bold;" id="wpbooklist-branding-text-2-id">'+n+"</p>")),""!=n&&""!=s&&(X("#cboxTitle").css({border:"solid 1px #e1e1e1",height:"100px","background-color":"white",bottom:"-95px"}),X("#cboxWrapper").css({overflow:"visible"}),X("#colorbox").css({height:X("#colorbox").height()+100+"px"}),X("#cboxTitle").append('<img id="wpbooklist-branding-logo-2-id" style="display:inline-block; margin-right:10px; margin-top:20px; width:50px;" src="'+s+'" /><p style="display:inline-block; text-align: center; margin: 0; bottom: 20px; position: relative; font-style: italic;font-size: 17px;font-weight: bold;" id="wpbooklist-branding-text-2-id">'+n+"</p>")),X(".wpbooklist-similar-image").load(function(){var o=new Image;o.src=X(this).attr("src"),"1"==o.naturalHeight&&X(this).parent().parent().css({display:"none"})}),0<X("#google-preview-div").length){X(".wpbooklist_google_p_class").css({display:"none"});var o=document.getElementById("google-preview-div");bookViewer=new google.books.DefaultViewer(o),bookViewer.load(e[1],null,function(){X("#google-preview-no-results-div").css({display:"none"}),X("#wpbooklist-google-title-id").css({display:"block"}),X(".wpbooklist_google_p_class").css({display:"block"})})}addthis.toolbox(X(".addthis_sharing_toolbox").get()),addthis.toolbox(X(".addthis_sharing_toolbox").get()),addthis.counter(X(".addthis_counter").get())}})},error:function(o,e,t){console.log(t),console.log(e),console.log(o)}})}),X(".wpbooklist-dynamic-input").on("click",function(){console.log("fdjhsfhdjs");var o=X(".wpbooklist-dynamic-input").val();console.log(o),console.log(wpbooklistPhpVariables.trans54),o==wpbooklistPhpVariables.trans54+"..."&&X(".wpbooklist-dynamic-input").val("")}),X(".wpbooklist-dynamic-input").bind("input",function(){var o=X(".wpbooklist-dynamic-input").val();0<o.length&&o!=wpbooklistPhpVariables.trans54+"..."&&X("#wpbooklist-dynamic-shortcode-button").attr("disabled",!1)}),X("#wpbooklist-dynamic-shortcode-button").click(function(o){var e={action:"wpbooklist_new_library_action",currentval:X("#wpbooklist-dynamic-input-library").val().toLowerCase(),security:wpbooklistPhpVariables.adminnonce4};X.post(ajaxurl,e,function(o){document.location.reload(!0)})})});